<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Common Utilities &mdash; Respec to EPUB 8 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Respec to EPUB 8 documentation" href="index.html" />
    <link rel="next" title="Templates" href="templates.html" />
    <link rel="prev" title="Package processing" href="package.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="templates.html" title="Templates"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="package.html" title="Package processing"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Respec to EPUB 8 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-rp2epub.utils">
<span id="common-utilities"></span><h1>Common Utilities<a class="headerlink" href="#module-rp2epub.utils" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="rp2epub.utils.Book">
<em class="property">class </em><tt class="descclassname">rp2epub.utils.</tt><tt class="descname">Book</tt><big>(</big><em>book_name</em>, <em>folder_name</em>, <em>package=True</em>, <em>folder=False</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Book"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstraction for a book; it encapsulates a zip file as well as saving the content into a
directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>book_name</strong> &#8211; file name of the book</li>
<li><strong>folder_name</strong> &#8211; name of the directory</li>
<li><strong>package</strong> &#8211; whether a real zip file should be created or not</li>
<li><strong>folder</strong> &#8211; whether the directory structure should be created separately or not</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="rp2epub.utils.Book.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Book.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the book (i.e., the archive).</p>
</dd></dl>

<dl class="attribute">
<dt id="rp2epub.utils.Book.folder">
<tt class="descname">folder</tt><a class="reference internal" href="_modules/rp2epub/utils.html#Book.folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag whether a folder should be generated or not</p>
</dd></dl>

<dl class="attribute">
<dt id="rp2epub.utils.Book.name">
<tt class="descname">name</tt><a class="reference internal" href="_modules/rp2epub/utils.html#Book.name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix that should be added to all names when storing a folder (set to the short name of the document)</p>
</dd></dl>

<dl class="attribute">
<dt id="rp2epub.utils.Book.package">
<tt class="descname">package</tt><a class="reference internal" href="_modules/rp2epub/utils.html#Book.package"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.package" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag whether an EPUB package should be generated or not</p>
</dd></dl>

<dl class="method">
<dt id="rp2epub.utils.Book.write_HTTP">
<tt class="descname">write_HTTP</tt><big>(</big><em>target</em>, <em>url</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Book.write_HTTP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.write_HTTP" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the content of a URI and store it in the book. (This is a wrapper around the <cite>write_session</cite> method.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>str</em>) &#8211; path for the target file</li>
<li><strong>url</strong> &#8211; URL that has to be retrieved to be written into the book</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rp2epub.utils.Book.write_element">
<tt class="descname">write_element</tt><big>(</big><em>target</em>, <em>element</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Book.write_element"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.write_element" title="Permalink to this definition">¶</a></dt>
<dd><p>An ElementTree object is added to the book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>str</em>) &#8211; path for the target file</li>
<li><strong>element</strong> (<tt class="xref py py-class docutils literal"><span class="pre">xml.etree.ElementTree</span></tt>) &#8211; the XML tree to be stored</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rp2epub.utils.Book.write_session">
<tt class="descname">write_session</tt><big>(</big><em>target</em>, <em>session</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Book.write_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.write_session" title="Permalink to this definition">¶</a></dt>
<dd><p>The returned content of an <a class="reference internal" href="#rp2epub.utils.HttpSession" title="rp2epub.utils.HttpSession"><tt class="xref py py-class docutils literal"><span class="pre">HttpSession</span></tt></a> is added to the book. If the content is an HTML file,
it will be converted into XHTML on the fly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>str</em>) &#8211; path for the target file</li>
<li><strong>session</strong> &#8211; a <a class="reference internal" href="#rp2epub.utils.HttpSession" title="rp2epub.utils.HttpSession"><tt class="xref py py-class docutils literal"><span class="pre">HttpSession</span></tt></a> instance whose data must retrieved to be written into the book</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rp2epub.utils.Book.writestr">
<tt class="descname">writestr</tt><big>(</big><em>target</em>, <em>content</em>, <em>compress=8</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Book.writestr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.writestr" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the content of a string. Care should be taken not to write &#8220;target&#8221; twice; the zipfile would really
duplicate the content in the archive (as opposed to file writing that would simply overwrite the previous
incarnation of the same file). This method takes care of that through the <cite>already_stored</cite> array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> &#8211; path for the target file</li>
<li><strong>content</strong> &#8211; string/bytes to be written on the file</li>
<li><strong>compress</strong> &#8211; either zipfile.ZIP_DEFLATED or zipfile.ZIP_STORED, whether the content should be compressed, resp. not compressed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="rp2epub.utils.Book.zip">
<tt class="descname">zip</tt><a class="reference internal" href="_modules/rp2epub/utils.html#Book.zip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Book.zip" title="Permalink to this definition">¶</a></dt>
<dd><p>The package (book) file itself</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rp2epub.utils.HttpSession">
<em class="property">class </em><tt class="descclassname">rp2epub.utils.</tt><tt class="descname">HttpSession</tt><big>(</big><em>url</em>, <em>accepted_media_types=None</em>, <em>raise_exception=False</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#HttpSession"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.HttpSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around an HTTP session; the returned media type is compared against accepted media
types.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) &#8211; the URL to be retrieved</li>
<li><strong>accepted_media_types</strong> (<em>list</em>) &#8211; and array of media type strings giving a list of those that should be added to the book</li>
<li><strong>raise_exception</strong> (<em>boolean</em>) &#8211; whether an exception should be raised if the document cannot be retrieved (either because the HTTP return is not 200, or not of an acceptable media type)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises R2EError:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">in case the file is not an of an acceptable media type, or the HTTP return is not 200</p>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="rp2epub.utils.HttpSession.data">
<tt class="descname">data</tt><a class="reference internal" href="_modules/rp2epub/utils.html#HttpSession.data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.HttpSession.data" title="Permalink to this definition">¶</a></dt>
<dd><p>The returned resource, as a file-like object</p>
</dd></dl>

<dl class="attribute">
<dt id="rp2epub.utils.HttpSession.media_type">
<tt class="descname">media_type</tt><a class="reference internal" href="_modules/rp2epub/utils.html#HttpSession.media_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.HttpSession.media_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Media type of the resource</p>
</dd></dl>

<dl class="attribute">
<dt id="rp2epub.utils.HttpSession.success">
<tt class="descname">success</tt><a class="reference internal" href="_modules/rp2epub/utils.html#HttpSession.success"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.HttpSession.success" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the HTTP retrieval was successful, False otherwise</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rp2epub.utils.TOC_Item">
<em class="property">class </em><tt class="descclassname">rp2epub.utils.</tt><tt class="descname">TOC_Item</tt><big>(</big><em>href</em>, <em>label</em>, <em>short_label</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#TOC_Item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.TOC_Item" title="Permalink to this definition">¶</a></dt>
<dd><p>A single Table of Content (TOC) item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>href</strong> (<em>str</em>) &#8211; reference in the TOC</li>
<li><strong>label</strong> (<em>str</em>) &#8211; long label, ie, including the chapter numbering</li>
<li><strong>short_label</strong> (<em>str</em>) &#8211; shotr label, ie, <em>without</em> the chapter numbering</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="rp2epub.utils.TOC_Item.href">
<tt class="descname">href</tt><a class="reference internal" href="_modules/rp2epub/utils.html#TOC_Item.href"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.TOC_Item.href" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rp2epub.utils.TOC_Item.label">
<tt class="descname">label</tt><a class="reference internal" href="_modules/rp2epub/utils.html#TOC_Item.label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.TOC_Item.label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rp2epub.utils.TOC_Item.short_label">
<tt class="descname">short_label</tt><a class="reference internal" href="_modules/rp2epub/utils.html#TOC_Item.short_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.TOC_Item.short_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="rp2epub.utils.Utils">
<em class="property">class </em><tt class="descclassname">rp2epub.utils.</tt><tt class="descname">Utils</tt><a class="reference internal" href="_modules/rp2epub/utils.html#Utils"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Utils" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic utility functions to extract information from a W3C TR document.</p>
<dl class="staticmethod">
<dt id="rp2epub.utils.Utils.create_shortname">
<em class="property">static </em><tt class="descname">create_shortname</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Utils.create_shortname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Utils.create_shortname" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the short name, in W3C jargon, based on the dated name. Returns a tuple with the category of the
publication (<tt class="docutils literal"><span class="pre">REC</span></tt>, <tt class="docutils literal"><span class="pre">NOTE</span></tt>, <tt class="docutils literal"><span class="pre">PR</span></tt>, <tt class="docutils literal"><span class="pre">WD</span></tt>, <tt class="docutils literal"><span class="pre">CR</span></tt>, <tt class="docutils literal"><span class="pre">ED</span></tt>, or <tt class="docutils literal"><span class="pre">PER</span></tt>), and the short name itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) &#8211; dated name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tuple of with the category of the publication (<tt class="docutils literal"><span class="pre">REC</span></tt>, <tt class="docutils literal"><span class="pre">NOTE</span></tt>, <tt class="docutils literal"><span class="pre">PR</span></tt>, <tt class="docutils literal"><span class="pre">WD</span></tt>, <tt class="docutils literal"><span class="pre">CR</span></tt>, <tt class="docutils literal"><span class="pre">ED</span></tt>, or <tt class="docutils literal"><span class="pre">PER</span></tt>), and the short name itself.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="rp2epub.utils.Utils.extract_editors">
<em class="property">static </em><tt class="descname">extract_editors</tt><big>(</big><em>html</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Utils.extract_editors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Utils.extract_editors" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the editors&#8217; names from a document, following the respec conventions
(<tt class="docutils literal"><span class="pre">&#64;class=p-author</span></tt> for <tt class="docutils literal"><span class="pre">&lt;dd&gt;</span></tt> including <tt class="docutils literal"><span class="pre">&lt;a&gt;</span></tt> or <tt class="docutils literal"><span class="pre">&lt;span&gt;</span></tt> with <tt class="docutils literal"><span class="pre">&#64;class=p-name</span></tt>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>html</strong> (<tt class="xref py py-class docutils literal"><span class="pre">xml.etree.ElementTree.ElementTree</span></tt>) &#8211; the object for the whole document</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">set of editors</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="rp2epub.utils.Utils.extract_toc">
<em class="property">static </em><tt class="descname">extract_toc</tt><big>(</big><em>html</em>, <em>short_name</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Utils.extract_toc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Utils.extract_toc" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the table of content from the document. <tt class="docutils literal"><span class="pre">html</span></tt> is the Element object for the full document. <tt class="docutils literal"><span class="pre">toc_tuples</span></tt>
is an array of <tt class="docutils literal"><span class="pre">TOC_Item</span></tt> objects where the items should be put, <tt class="docutils literal"><span class="pre">short_name</span></tt> is the short name for the
document as a whole (used in possible warnings).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>html</strong> (<tt class="xref py py-class docutils literal"><span class="pre">xml.etree.ElementTree.ElementTree</span></tt>) &#8211; the object for the whole document</li>
<li><strong>short_name</strong> (<em>str</em>) &#8211; short name of the document as a whole (used in possible warning)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">array of <a class="reference internal" href="#rp2epub.utils.TOC_Item" title="rp2epub.utils.TOC_Item"><tt class="xref py py-class docutils literal"><span class="pre">TOC_Item</span></tt></a> instances</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="rp2epub.utils.Utils.get_document_properties">
<em class="property">static </em><tt class="descname">get_document_properties</tt><big>(</big><em>html</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Utils.get_document_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Utils.get_document_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the extra manifest properties that must be added to the HTML resource in the opf file.</p>
<p>See the <a class="reference external" href="http://www.idpf.org/epub/30/spec/epub30-publications.html#sec-item-property-values">IDPF documentation</a> for details</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>html</strong> (<tt class="xref py py-class docutils literal"><span class="pre">xml.etree.ElementTree.ElementTree</span></tt>) &#8211; the object for the whole document</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">set collecting all possible property values</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="rp2epub.utils.Utils.html_to_xhtml">
<em class="property">static </em><tt class="descname">html_to_xhtml</tt><big>(</big><em>html</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Utils.html_to_xhtml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Utils.html_to_xhtml" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the minimum changes necessary in the DOM tree so that the XHTML output is valid and accepted
by epub readers
:param html: the object for the whole document
:type html: <tt class="xref py py-class docutils literal"><span class="pre">xml.etree.ElementTree.ElementTree</span></tt>
:return: the input object</p>
</dd></dl>

<dl class="staticmethod">
<dt id="rp2epub.utils.Utils.retrieve_date">
<em class="property">static </em><tt class="descname">retrieve_date</tt><big>(</big><em>duri</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Utils.retrieve_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Utils.retrieve_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the (publication) date from the dated URI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>duri</strong> (<em>str</em>) &#8211; dated URI</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">date</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">datetype.date</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises R2EError:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">the dated URI is not of an expected format</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="rp2epub.utils.Utils.set_html_meta">
<em class="property">static </em><tt class="descname">set_html_meta</tt><big>(</big><em>html</em>, <em>head</em><big>)</big><a class="reference internal" href="_modules/rp2epub/utils.html#Utils.set_html_meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rp2epub.utils.Utils.set_html_meta" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Change the meta elements so that:
- any <tt class="docutils literal"><span class="pre">&#64;http-equiv=content-type</span></tt> should be removed
- there should be an extra meta setting the character set</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>html</strong> (<tt class="xref py py-class docutils literal"><span class="pre">xml.etree.ElementTree.ElementTree</span></tt>) &#8211; the object for the whole document</li>
<li><strong>head</strong> (<tt class="xref py py-class docutils literal"><span class="pre">xml.etree.ElementTree.Element</span></tt>) &#8211; the object for the &lt;head&gt; element</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="package.html"
                        title="previous chapter">Package processing</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="templates.html"
                        title="next chapter">Templates</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/utils.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="templates.html" title="Templates"
             >next</a> |</li>
        <li class="right" >
          <a href="package.html" title="Package processing"
             >previous</a> |</li>
        <li><a href="index.html">Respec to EPUB 8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Ivan Herman.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>