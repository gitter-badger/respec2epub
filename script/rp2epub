#!/usr/bin/env python
import argparse

description = "Generate EPUB3 for a single W3C TR document, either in respec format (default) or generated from respec."
# noinspection PyPep8
def process():
	"""
	Main entry point for command line usage.
	"""
	parser = argparse.ArgumentParser(description=description)
	parser.add_argument("url",
						help="URL of the input; if this is in respec, it will passed on to the spec generator verbatim ")
	parser.add_argument("-r", "--respec", action='store_true', help="The source is a respec file, transform it before processing")
	parser.add_argument("-b", "--book", action='store_true', help="Create an EPUB3 package")
	parser.add_argument("-f", "--folder", action='store_true', help="Create a folder with the book content")
	parser.add_argument("-t", "--tempfile", action="store_true", help="Create a one-time, temporary name for the EPUB3 file")

	args = parser.parse_args()
	from rp2epub import DocToEpub
	fname = DocToEpub(args.url, is_respec=args.respec, package=args.book, folder=args.folder, tempfile=args.tempfile).process()

if __name__ == '__main__':
	process()
