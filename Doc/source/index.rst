.. Respec to EPUB documentation master file, created by
   sphinx-quickstart on Wed Aug 12 15:42:46 2015.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

ReSpec to EPUB utility
======================

Get an HTML document in `ReSpec <http://www.w3.org/respec/>`_, or an HTML document generated by `ReSpec <http://www.w3.org/respec/>`_,
and generate an EPUB3 file for off-line reading.  The
package is **not** a generic HTML->EPUB3 solution, it is indeed tailored
at W3C TR documents. Furthermore, the current version relies on `ReSpec <http://www.w3.org/respec/>`__: files should either
be generated by ReSpec prior to using this script, or are ResPec "sources" that are are transformed into HTML
on the fly using a separate `Web Service set up (at W3C) <https://labs.w3.org/spec-generator/>`__ for that purpose.

The package can be used through a command line tool (see the manual below) or can be the core of a separate Web Service
(it will be installed on the `W3C Labs site <https://labs.w3.org/epub-generator/>`__). Eventually, the
save menu of ReSpec will be extended so that the service can be invoked from within respec when the user generates
the final output (see the `ReSpec <http://www.w3.org/respec/>`__ documentation for further details).

Stylesheets and images are downloaded and included in the book, provided they are on the same Web domain as the
original file (i.e., in Python's URL library speak, if the URL-s of those resources have the same net location,
i.e., ``netloc``).

The result is an EPUB3 in, by default, the same folder, whose name is the short name of the document, expanded with
the ``.epub`` suffix.

There is a possibility to generate the EPUB3 content in expanded form (i.e., in a directory instead of an EPUB file),
or both. This may be useful for debugging, but also to inspect and possibly adapt the EPUB3 file before
distribution.


Dependencies
------------

The package relies on Python 2.7. The script does not work (yet?) with Python 3; the underlying HTML library
(e.g., HTML5Lib) seems to have issues with encoding, UTF-8, etc.

Apart from the standard Python libraries the package also depends on
`HTML5lib <https://pypi.python.org/pypi/html5lib>`__, an HTML5 parser library for
Python. This package has been tested with version 0.99999 of that library; earlier versions had Unicode
encoding issues, and should not be used.

Metadata
--------

* Version: |version|
* Document creation date: |today|
* Author: Ivan Herman
* Contact: ivan@w3.org
* Licence: W3C SOFTWARE NOTICE AND LICENSE <http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231>
* Repository: <https://github.com/iherman/respec2epub>

Thanks also to Zheng Xu (Rakuten/Kobo) who helped me in some of the interoperability problems around ePub readers.


2. Table of Contents
====================

.. toctree::

   manual
   rp2epub
   driver
   document
   package
   utils
   templates

Indices and tables
==================

* :ref:`genindex`

